<!DOCTYPE html>

<html th:lang-xmllang="#{lang}" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:insert="fragments/head.html"></th:block>
    <title th:text="|${gremium.abbr.toUpperCase()} Â· #{title}|"></title>
</head>

<body>
    <th:block th:insert="fragments/nav.html"></th:block>
    <!-- Main Content -->
    <main class="mt-5">
        <div class="container py-4 px-lg-5 px-1 mb-lg-5">
            <!-- Title -->
            <div class="bg-light rounded border mx-2 mx-lg-5 mt-lg-5 query-text">
                <div class="row py-lg-5 mb-3 pt-4 px-3 justify-content-center">
                    <div class="col-12 col-lg-8 text-center">
                        <h2 th:text="${query.text}"></h2>
                    </div>
                </div>
                <!-- Answer Buttons -->
                <form th:method="POST" th:action="@{/__${gremium.abbr}__/queries/__${queryIndex}__}"
                    th:object="${queryForm}">
                    <div class="row justify-content-sm-center pb-lg-5 pb-4">
                        <div class="col-12 col-lg-3 col text-center text-lg-end my-1">
                            <input th:field="*{opinion}" type="radio" class="btn-check" id="not-ok" autocomplete="off"
                                value="-1">
                            <label class="btn btn-outline-dark custom-btn-w" for="not-ok"
                                th:text="#{answer.disagree}"></label>
                        </div>
                        <div class="col-12 col-lg-3 text-center my-1">
                            <input th:field="*{opinion}" type="radio" class="btn-check" id="neutral" autocomplete="off"
                                value="0">
                            <label class="btn btn-outline-dark custom-btn-w" for="neutral"
                                th:text="#{answer.neutral}"></label>
                        </div>
                        <div class="col-12 col-lg-3 text-center text-lg-start my-1">
                            <input th:field="*{opinion}" type="radio" class="btn-check" id="ok" autocomplete="off"
                                value="1">
                            <label class="btn btn-outline-dark custom-btn-w" for="ok" th:text="#{answer.agree}"></label>
                        </div>
                        <input th:field="*{opinion}" type="hidden" id="default" value="2">
                    </div>
            </div>
            <!-- Navigation buttons -->
            <div class="px-2">
                <div class="row justify-content-center pt-4 pt-lg-3">
                    <div class="col-6 col-lg-2 text-end my-2">
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-outline-secondary" th:disabled="${queryIndex-1} lt 0"
                                name="prev" th:text="#{query.prev}"></button>
                        </div>
                    </div>
                    <div class="col-6 col-lg-2 text-start my-2">
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-outline-secondary"
                                th:disabled="${queryIndex+1} ge ${queryListSize}" name="next"
                                th:text="#{query.next}"></button>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-12 col-lg-4 text-center my-2">
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-danger" th:disabled="${!isQueriesAnswered}"
                                name="results" th:text="#{btn.results}"></button>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-12 col-lg-4 text-center my-2">
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-outline-secondary" name="skip"
                                th:disabled="${queryIndex+1} ge ${queryListSize}" th:text="#{query.skip}"></button>
                        </div>
                    </div>
                </div>
            </div>
            </form>
        </div>
    </main>
    <th:block th:insert="fragments/footer.html"></th:block>
    <th:block th:insert="fragments/scripts.html"></th:block>
</body>

</html>